<meta charset="utf8">
<textarea id="$textarea" oninput="window.setTimeout(update,10)"></textarea>
<button onclick="update()">force update</button>
<div id="$output"></div>
<link rel="stylesheet" href="style.css">
<link rel="stylesheet" href="sb_theme.css">
<script src="sbhighlight.js"></script>
<script src="parse2.js"></script>
<hr>
<pre id="$html"></pre>

<script>
function update(){
console.log("updating");
	$html.innerHTML = escape_html_raw($output.innerHTML = parse($textarea.value, options))
}
</script>

<style>
textarea {
	width: 100%;
	height: 30vw;
}

body {
	white-space: pre-wrap;
}

img{
	max-width: 40vw;
	max-height: 10vh;
	transition: all 0.25s ease;
}

img:focus {
	max-width: 100%;
	max-height: 75vh;
}


video{
	max-width: 40vw;
	max-height: 10vh;
	transition: all 0.25s ease;
}

video:focus {
	max-width: 100%;
	max-height: 75vh;
}

</style>